## 샤드 클러스터
### 샤드
샤드는 샤드 클러스터에 대한 샤드 데이터의 하위 집합을 포함한다. 클러스터의 조각들이 함께 클러스터의 전체 데이터 세트를 보관한다. 
MongoDB 3.6을 기준으로, 중복성과 고가용성을 제공하기 위해 샤드를 복제 세트로 배치해야 한다.
### 구성서버 
구성 서버는 sharded 클러스터의 메타 데이터를 저장한다. 구성 서버는 다운이 되었을 경우 매우 치명적이기 때문에, Replica Set을 구성하는 것을 권장한다.
### Router (mongos)
쿼리와 쓰기 작업을 sharded cluster에 전달한다. 애플리케이션이 shard와 직접 연결하는 것이 아니라 mongos가 그 사이에서 라우팅 역할을 하게된다. 

## 샤드키
샤드키는 Shard Cluster들 사이에서 Collection Document의 분포를 결정한다. 샤드키는 Collection안의 모든 Document에 존재하는 인덱싱된 필드이다. 몽고DB는 샤드 키값의 범위를 사용하여 컬렉션의 데이터를 분할한다. 각각의 범위는 샤드키값을 이용하여 겹치지않는 범위를 정의하며 청크와 연관이있다.

### Shard Key 명시
```
sh.shardCollection( <database>.<collection> , key )
```

### 샤드키의 선택
샤드키를 선택하는것은 청크의 생성과 분포에 영향을 미친다. 그 말은 즉, 샤드 클러스터내 운영의 전반적인 효율성과 성능에 영향을 미치므로 전략적인 샤드키 선택이 필요하다는 것이다. 이상적인 샤드키를 선택했다면 Document는 고르게 배포할 수 있다.

## JWT
json객체로 정보를 안전하게 전송하기위한 개방형 표준(RFC 7519) 이다. 이 정보는 디지털 서명되어있기 때문에 검증되고 신뢰할 수 있다.
JWT는 시크릿(HMAC 알고리즘)을 사용하여 서명될수 있거나 RSA 또는 ECDSA를 사용한 공개/개인키 쌍으로 서명될 수 있다.

## JWT의 구조
(.)으로 분리된 총 세가지의 파트로 구성되어 있다.
- Header
- Payload
- Signature

### Header
헤더는 두가지로 구성되어있다. 토큰의 유형과 서명알고리즘 (HMAC SHA256 RSA)이다. 
```
{
  "alg": "HS256",
  "typ": "JWT"
}
```

### Payload
Payload는 클레임이라는 것을 포함한다. 클레임은 엔티티에 대한 서술(ex.유저정보)과 추가적인 데이터라고 볼 수 있다. 
- Registered 클레임 : 필수 사항은 아니지만 클레임을 유용하게 사용하기위해 사전정의된 클레임이다. 
예를들면 iss(토큰발급자) , exp(만료시간), sub(제목), oud(청중) 등이 있다.
- Public 클레임 : JWT 사용자에 의해서 마음대로 정의될 수 있다. 그러나 충돌을 방지하기위해서는 IANA JSON 웹토큰 레지스트리에 정의를 하거나 ,
충돌방지 네임스페이스를 포함하는 URI로 정의해야한다.
- Private 클레임 : 서로의 상호 동의하에 정보공유를 위해 사용되는 클레임이다. 예를 들면 username이 있다.

```
서명된 토큰의 경우 변조로부터 보호되지만 누구나 읽을 수 있다는 점에 유의하자. 암호화된 경우가 아니라면 JWT 의 페이로드 또는 헤더요소에
비밀정보를 넣지 않도록 하자.
```

### Signature
서명 부분을 생성하려면 인코딩된 헤더, 인코딩된 페이로드, 시크릿, 헤더에 지정된 알고리즘을 가져와 서명해야한다.
예를 들어 HMAC SHA256 알고리즘을 사용하려는 경우 다음과 같이 생성된다.
```
HMACSHA256(
  base64UrlEncode(header) + "." +
  base64UrlEncode(payload),
  secret)
```
서명은 도중에 메세지가 변경되지 않았음을 확인하는데 사용된다. 또한 개인키로 서명한 토큰의 경우 JWT의 발신인이 누구인지 확인할 수도 있다.

## 참고
https://jwt.io/introduction/